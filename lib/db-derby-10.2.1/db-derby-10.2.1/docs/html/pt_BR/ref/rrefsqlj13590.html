<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="pt-br" xml:lang="pt-br">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="Cl√°usula CONSTRAINT" />
<meta content="Cl√°usula CONSTRAINT, Restri√ß√µes, Propriedades de armazenamento, para √≠ndices apoiando restri√ß√µes, Apoio a √≠ndices, especifica√ß√£o de propriedades de armazenamento, Tabelas, especifica√ß√£o do tamanho da p√°gina, especifica√ß√£o das propriedades" name="DC.subject" />
<meta content="Cl√°usula CONSTRAINT, Restri√ß√µes, Propriedades de armazenamento, para √≠ndices apoiando restri√ß√µes, Apoio a √≠ndices, especifica√ß√£o de propriedades de armazenamento, Tabelas, especifica√ß√£o do tamanho da p√°gina, especifica√ß√£o das propriedades" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj39374.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj22771.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj81859.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj95081.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj80721.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqljrenamestatements.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj35312.html" />
<meta scheme="URI" name="DC.Relation" content="rrefcallprocedure.html" />
<meta scheme="URI" name="DC.Relation" content="rrefdeclaretemptable.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj35981.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj31783.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj21583.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj32654.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj14854.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj35034.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj40774.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj29840.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj18922.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj40506.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj13658.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj21571.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj57522.html" />
<meta scheme="URI" name="DC.Relation" content="rrefscalarsubquery.html" />
<meta scheme="URI" name="DC.Relation" content="rrefselectexpression.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj41360.html" />
<meta scheme="URI" name="DC.Relation" content="rreftableexpression.html" />
<meta scheme="URI" name="DC.Relation" content="rreftablesubquery.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj26498.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj11277.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj33602.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj15309.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj16095.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj42154.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj16357.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj91438.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefsqlj13590" name="DC.Identifier" />
<meta content="pt-br" name="DC.Language" />
<link href="C:\cygwin\home\rh161140\derby\docs\10.2\out\pt_BR\reftemp\commonltr.css" type="text/css" rel="stylesheet" />
<title>Cl√°usula CONSTRAINT</title>
</head>
<body id="rrefsqlj13590"><a name="rrefsqlj13590"><!-- --></a>


<h1 class="topictitle1">Cl√°usula CONSTRAINT</h1>


<div>
<div class="section">
<p>A cl√°usula CONSTRAINT √© uma parte opcional da
<a href="rrefsqlj24513.html#rrefsqlj24513">Instru√ß√£o CREATE TABLE</a> e da
<a href="rrefsqlj81859.html#rrefsqlj81859">Instru√ß√£o ALTER TABLE</a>.
A restri√ß√£o √© uma regra com a qual os dados devem estar em conformidade.
O nome da restri√ß√£o √© opcional.</p>

<div class="p">A restri√ß√£o pode ser:
<ul>
<li>


restri√ß√£o no n√≠vel-de-coluna
<p>As restri√ß√µes no n√≠vel-de-coluna fazem refer√™ncia a uma √∫nica coluna
da tabela, e n√£o especificam o nome da coluna (exceto as restri√ß√µes de
verifica√ß√£o).
Se referem √† coluna a qual seguem.</p>

</li>

<li>


restri√ß√£o no n√≠vel-de-tabela
<p>As restri√ß√µes no n√≠vel-de-tabela fazem refer√™ncia a uma ou mais colunas da
tabela.
As restri√ß√µes no n√≠vel-de-tabela especificam os nomes das colunas √†s quais se
aplicam.
As restri√ß√µes de verifica√ß√£o (CHECK) no n√≠vel de tabela podem fazer refer√™ncia a
zero ou mais colunas da tabela.</p>

</li>

</ul>

</div>

<div class="p">


As restri√ß√µes de coluna incluem:
<ul>
<li>NOT NULL
<p>Especifica que a coluna n√£o pode conter valores nulos (n√£o pode ser dado nome
a restri√ß√µes deste tipo).</p>

</li>

<li>PRIMARY KEY

<p>Especifica a coluna que identifica unicamente uma linha da tabela.
A coluna identificada deve ser definida como NOT NULL.</p>

<div class="note"><span class="notetitle">Nota: </span>Se for tentado adicionar uma chave prim√°ria utilizando a instru√ß√£o
ALTER TABLE, e alguma coluna inclu√≠da na chave prim√°ria contiver valores
nulos, ser√° gerado um erro e a chave prim√°ria n√£o ser√° adicionada.
Para obter mais informa√ß√µes deve ser consultada a
<a href="rrefsqlj81859.html#rrefsqlj81859">Instru√ß√£o ALTER TABLE</a>.</div>

</li>

<li>UNIQUE
<p>Especifica que os valores na coluna devem ser √∫nicos.
N√£o s√£o permitidos valores nulos.</p>

</li>

<li>FOREIGN KEY
<p>Especifica que os valores na coluna devem corresponder a valores em uma
coluna de chave prim√°ria ou de chave √∫nica referenciada, ou que s√£o nulos.</p>

</li>

<li>CHECK
<p>Especifica regras para os valores da coluna.</p>

</li>

</ul>

</div>

<div class="p">

As restri√ß√µes de tabela incluem:
<ul>
<li>PRIMARY KEY

<p>Especifica a coluna ou colunas que identificam unicamente uma linha da
tabela.
N√£o s√£o permitidos valores nulos.</p>

</li>

<li>UNIQUE
<p>Especifica que os valores nas colunas devem ser √∫nicos.
As colunas identificadas devem ser definidas como NOT NULL.</p>
</li>

<li>FOREIGN KEY
<p>Especifica que os valores nas colunas devem corresponder a valores em
colunas de uma chave prim√°ria ou chave √∫nica referenciada, ou que s√£o nulos.</p>

<div class="note"><span class="notetitle">Nota: </span>Se a chave estrangeira for formada por v√°rias colunas, e se
<em>alguma</em> coluna for nula, toda a chave ser√° considerada nula.
A inser√ß√£o ser√° permitida n√£o importando o que esteja presente nas colunas
n√£o-nulas.</div>

</li>

<li>CHECK
<p>Especifica diversas regras para os valores na tabela.</p>

</li>

</ul>

</div>

<p>

As restri√ß√µes de coluna e restri√ß√µes de tabela possuem a mesma fun√ß√£o;
a diferen√ßa √© onde s√£o especificadas.
As restri√ß√µes de tabela permitem especificar mais de uma coluna na defini√ß√£o da
restri√ß√£o PRIMARY KEY, UNIQUE, CHECK e FOREIGN KEY.
As restri√ß√µes no n√≠vel-de-coluna (exceto as restri√ß√µes de verifica√ß√£o) fazem
refer√™ncia a apenas uma coluna.</p>

</div>

<div class="section"><h4 class="sectiontitle">Sintaxe</h4>
 </div>

<div class="section"><h4 class="sectiontitle">Restri√ß√µes de chave prim√°ria e de unicidade</h4>

<p>


A chave prim√°ria define o conjunto de colunas que identificam unicamente as
linhas da tabela.</p>

<p>Quando se cria uma restri√ß√£o de chave prim√°ria, nenhuma das colunas inclu√≠das
na chave prim√°ria pode ter a restri√ß√£o NULL; ou seja, n√£o podem permitir
valores nulos.</p>

<p>A instru√ß√£o ALTER TABLE ADD PRIMARY KEY permite incluir colunas existentes
em uma chave prim√°ria, caso estas tenham sido anteriormente definidas como
NOT NULL.
Os valores NULL n√£o s√£o permitidos.
Se as colunas contiverem valores nulos, o sistema n√£o adicionar√° a restri√ß√£o de
chave prim√°ria.
Para obter mais informa√ß√µes deve ser consultada a
<a href="rrefsqlj81859.html#rrefsqlj81859">Instru√ß√£o ALTER TABLE</a>.</p>

<p>A tabela pode ter no m√°ximo uma restri√ß√£o PRIMARY KEY, mas pode ter v√°rias
restri√ß√µes UNIQUE.</p>

</div>

<div class="section"><h4 class="sectiontitle">Restri√ß√µes de chave estrangeira</h4>

<p>


As chaves estrangeiras fornecem um meio de impor a integridade referencial de
um banco de dados.
A chave estrangeira √© uma coluna, ou grupo de colunas, dentro da tabela que
fazem refer√™ncia a uma chave de alguma outra tabela (ou algumas vezes, embora
raramente, √† mesma tabela).
A chave estrangeira deve incluir sempre colunas cujos tipos correspondem
exatamente aos tipos das colunas da restri√ß√£o de chave prim√°ria ou de unicidade
referenciada.</p>

<p>Em uma restri√ß√£o de chave estrangeira no n√≠vel-de-tabela, para a qual s√£o
especificadas as colunas da tabela que comp√µem a restri√ß√£o, a mesma coluna n√£o
pode ser usada mais de uma vez.</p>

<p>Se houver uma lista de colunas na <em>Especifica√ß√£oReferencias</em>
(lista das colunas na tabela referenciada), esta lista dever√° corresponder
a uma restri√ß√£o de chave prim√°ria ou a uma restri√ß√£o de unicidade da tabela
referenciada.
A <em>Especifica√ß√£oReferencias</em> pode omitir a lista de colunas da tabela
referenciada, se esta tabela possuir uma chave prim√°ria declarada.</p>

<p>Se n√£o houver uma lista de colunas na <em>Especifica√ß√£oReferencias</em>, e a
tabela referenciada n√£o possuir uma chave prim√°ria, ser√° lan√ßada uma exce√ß√£o de
instru√ß√£o (Isto significa que se a tabela referenciada possuir apenas chaves
√∫nicas, √© necess√°rio incluir a lista de colunas na
<em>Especifica√ß√£oReferencias</em>).</p>

<div class="p">A restri√ß√£o de chave estrangeira est√° satisfeita quando h√° um valor
correspondente na coluna de unicidade ou de chave prim√°ria correspondente.
Se a chave estrangeira for composta por v√°rias colunas, o valor da chave
estrangeira ser√° considerado nulo quando qualquer uma de suas colunas tiver o
valor nulo.
<div class="note"><span class="notetitle">Nota: </span>√â poss√≠vel que uma chave estrangeira formada por v√°rias colunas permita
que uma de suas colunas contenha um valor para o qual n√£o exista valor
correspondente nas colunas referenciadas, de acordo com o padr√£o SQL-92.
Para evitar esta situa√ß√£o, devem ser criadas restri√ß√µes NOT NULL em todas as
colunas da chave estrangeira.</div>

</div>

</div>

<div class="section"><h4 class="sectiontitle">Restri√ß√µes de chave estrangeira e a DML</h4>

<p>Quando √© feita uma inser√ß√£o ou atualiza√ß√£o em uma tabela que possui uma
restri√ß√£o de chave estrangeira habilitada, o
<span>Derby</span>
verifica se a linha n√£o viola a restri√ß√£o de chave estrangeira procurando a
chave referenciada correspondente na tabela referenciada.
Se a restri√ß√£o n√£o for satisfeita, o
<span>Derby</span>
rejeitar√° a inser√ß√£o ou a atualiza√ß√£o atrav√©s de uma exce√ß√£o de instru√ß√£o.</p>

<p>Quando uma linha de uma tabela com uma chave referenciada (uma restri√ß√£o de
chave prim√°ria ou de unicidade referenciada por uma chave estrangeira) √©
atualizada ou removida, o
<span>Derby</span>
verifica todas as restri√ß√µes de chave estrangeira que fazem refer√™ncia √† chave,
para ter certeza que a remo√ß√£o ou a modifica√ß√£o da linha n√£o causa viola√ß√£o da
restri√ß√£o.
Se a remo√ß√£o ou a modifica√ß√£o da linha causar uma viola√ß√£o da restri√ß√£o,
a atualiza√ß√£o ou remo√ß√£o n√£o ser√° permitida, e o
<span>Derby</span>
lan√ßar√° uma exce√ß√£o de instru√ß√£o.</p>

<p>O <span>Derby</span> realiza as
verifica√ß√µes de restri√ß√£o no momento em que a instru√ß√£o √© executada, e n√£o
quando a transa√ß√£o √© efetivada.</p>

</div>

<div class="section"><h4 class="sectiontitle">√?ndices de apoio</h4>

<p>


As restri√ß√µes UNIQUE, PRIMARY KEY e FOREIGN KEY geram √≠ndices que imp√µem, ou
"apoiam", √† restri√ß√£o (sendo algumas vezes chamados de <em>√≠ndices de apoio</em>).
As restri√ß√µes UNIQUE e PRIMARY KEY geram √≠ndices √∫nicos.
As restri√ß√µes FOREIGN KEY geram √≠ndices que n√£o s√£o √∫nicos.
Portanto, se uma coluna, ou conjunto de colunas, estiverem envolvidas em uma
restri√ß√£o UNIQUE, PRIMARY KEY ou FOREIGN KEY, n√£o √© necess√°rio criar √≠ndices
nestas colunas para melhorar o desempenho, o
<span>Derby</span>
j√° ter√° criado o √≠ndice.
Consulte
<a href="rrefsqlj20937.html#rrefsqlj20937__sqlj27363">√?ndices e restri√ß√µes</a>.</p>

<p>Estes √≠ndices ficam dispon√≠veis para o otimizador para a otimiza√ß√£o de
comandos (consulte a <a href="rrefsqlj20937.html#rrefsqlj20937">Instru√ß√£o CREATE INDEX</a>),
e possuem nomes gerados pelo sistema.</p>

<p>N√£o √© permitido remover um √≠ndice de apoio atrav√©s da instru√ß√£o DROP INDEX;
√© necess√°rio remover a restri√ß√£o ou a tabela.</p>

</div>

<div class="section"><h4 class="sectiontitle">Restri√ß√µes de verifica√ß√£o</h4>

<p>

As restri√ß√µes de verifica√ß√£o podem ser utilizadas para especificar
diversas regras para o conte√∫do da tabela.
√â especificada uma condi√ß√£o de procura (que √© uma express√£o booleana), para a
restri√ß√£o de verifica√ß√£o.
Esta condi√ß√£o de procura deve ser satisfeita por todas as linhas da tabela.
A condi√ß√£o de procura √© aplicada a toda linha modificada por uma instru√ß√£o
INSERT ou UPDATE, na hora em que a linha √© modificada.
A instru√ß√£o √© interrompida por completo quando qualquer restri√ß√£o de
verifica√ß√£o √© violada.</p>

</div>

<div class="section" id="rrefsqlj13590__sqlj57077"><a name="rrefsqlj13590__sqlj57077"><!-- --></a><h4 class="sectiontitle">Requisitos da condi√ß√£o de procura</h4>

<p>Se a restri√ß√£o de verifica√ß√£o for especificada como parte da
defini√ß√£o-da-coluna, a refer√™ncia a coluna somente poder√° ser feita para a
mesma coluna.
As restri√ß√µes de verifica√ß√£o especificadas como parte da defini√ß√£o da tabela,
podem possuir refer√™ncia a colunas que identificam colunas definidas
anteriormente na instru√ß√£o CREATE TABLE.</p>

<div class="p">A condi√ß√£o de procura deve retornar sempre o mesmo valor quando for aplicada
aos mesmos valores.
Portanto, n√£o pode conter:
<ul>
<li>Par√¢metros din√¢micos (?)</li>

<li>Fun√ß√µes de Data/Hora (CURRENT_DATE, CURRENT_TIME, CURRENT_TIMESTAMP)</li>

<li>Subconsultas</li>

<li>Fun√ß√µes de usu√°rio (tal como USER, SESSION_USER, CURRENT_USER)</li>

</ul>

</div>

</div>

<div class="section"><h4 class="sectiontitle">A√ß√µes referenciais</h4>

<p>


Quando a chave estrangeira √© definida, pode ser especificada uma cl√°usula
ON DELETE e/ou ON UPDATE seguida pela a√ß√£o apropriada
(CASCADE, RESTRICT, SET NULL ou NO ACTION).
Estas cl√°usulas especificam se o
<span>Derby</span>
deve modificar os valores da chave estrangeira correspondente ou n√£o permitir
a opera√ß√£o, para manter o relacionamento de chave estrangeira intacto quando o
valor da chave prim√°ria for atualizado ou exclu√≠do da tabela.</p>

<p>A regra de atualiza√ß√£o ou de exclus√£o da restri√ß√£o referencial √© especificada
quando a restri√ß√£o referencial √© definida.</p>

<p>A regra de atualiza√ß√£o √© aplicada quando uma linha da tabela m√£e ou da tabela
dependente √© atualizada.
As escolhas s√£o NO ACTION e RESTRICT. </p>

<p>Quando se atualiza o valor de uma coluna da chave prim√°ria da tabela m√£e,
e a regra de atualiza√ß√£o est√° especificada como RESTRICT, o
<span>Derby</span>
verifica as tabelas dependentes com rela√ß√£o √†s restri√ß√µes de chave estrangeira.
Se alguma linha de tabela dependente violar a restri√ß√£o de chave estrangeira,
a transa√ß√£o ser√° desfeita.</p>

<p>Se a regra de atualiza√ß√£o for NO ACTION, o
<span>Derby</span>
verificar√° as tabelas dependentes com rela√ß√£o √†s restri√ß√µes de chave estrangeira
<em>ap√≥s</em> todas as exclus√µes terem sido executadas, mas <em>antes</em> dos
gatilhos serem executados.
Se alguma linha de tabela dependente violar a restri√ß√£o de chave estrangeira,
a instru√ß√£o ser√° rejeitada.</p>

<p>Quando √© atualizado o valor de uma coluna em uma tabela dependente, e este
valor faz parte da chave estrangeira, a regra de atualiza√ß√£o impl√≠cita √©
NO ACTION.
NO ACTION significa que se a chave estrangeira for atualizada com um valor
n√£o-nulo, o valor atualizado dever√° corresponder a um valor na chave prim√°ria
da tabela m√£e quando a instru√ß√£o estiver completa.
Se a atualiza√ß√£o n√£o corresponder a um valor na chave prim√°ria da tabela m√£e,
a instru√ß√£o ser√° rejeitada.</p>

<p>A regra de exclus√£o √© aplicada quando uma linha da tabela m√£e √© exclu√≠da,
e esta linha possui dependentes na tabela dependente da restri√ß√£o referencial.
Quando s√£o exclu√≠das linhas da tabela dependente, a opera√ß√£o de exclus√£o
da tabela m√£e √© dita como <em>propagada</em> para a tabela dependente.
Se a tabela dependente tamb√©m for uma tabela m√£e, a a√ß√£o especificada ser√°
aplicada, por sua vez, √†s suas tabelas dependentes.</p>

<p>As escolhas s√£o NO ACTION, RESTRICT, CASCADE e SET NULL.
SET NULL somente poder√° ser especificada quando alguma coluna da
chave estrangeira permitir valores nulos.</p>

<p>Se a regra de exclus√£o for:</p>

<p>NO ACTION, o
<span>Derby</span>
verificar√° as tabelas dependentes com rela√ß√£o √†s restri√ß√µes referenciais
<em>ap√≥s</em> todas as exclus√µes terem sido executadas, mas <em>antes</em>
dos gatilhos serem executados.
Se alguma linha da tabela dependente violar a restri√ß√£o de chave estrangeira,
a instru√ß√£o ser√° rejeitada.</p>

<p>RESTRICT, o
<span>Derby</span>
verificar√° as tabelas dependentes com rela√ß√£o √†s chaves estrangeiras.
Se alguma linha da tabela dependente violar a restri√ß√£o de chave estrangeira,
a transa√ß√£o ser√° desfeita.</p>

<p>CASCADE, a opera√ß√£o de exclus√£o ser√° propagada para a tabela dependente
(e para as dependentes desta tabela, caso se aplique).</p>

<p>SET NULL, todas as colunas da chave estrangeira da tabela dependente que
aceitam o valor nulo, receber√£o o valor nulo (Novamente, se a tabela dependente
tamb√©m possuir tabelas dependentes, as colunas das chaves estrangeiras destas
tabelas que aceitam o valor nulo, receber√£o o valor nulo)</p>

<p>Cada restri√ß√£o referencial onde a tabela √© a tabela m√£e, possui suas pr√≥prias
regras de exclus√£o; todas as regras de exclus√£o aplic√°veis s√£o utilizadas para
determinar o resultado da opera√ß√£o de exclus√£o.
Portanto, n√£o poder√° ser exclu√≠da uma linha que possua dependentes em uma
restri√ß√£o referencial com regra de exclus√£o RESTRICT ou NO ACTION.
De forma semelhante, a linha n√£o poder√° ser exclu√≠da quando a exclus√£o se
propagar em cascata para alguma de suas descendentes que seja dependente em
uma restri√ß√£o referencial com a regra de exclus√£o RESTRICT ou NO ACTION.</p>

<div class="p">A exclus√£o de uma linha da tabela m√£e envolve outras tabelas.
Qualquer tabela envolvida em uma opera√ß√£o de exclus√£o na tabela m√£e √© dita
como sendo conectada-para-exclus√£o com a tabela m√£e.
A exclus√£o pode afetar as linhas destas tabelas das seguintes maneiras:
<ul>
<li>Se a regra de exclus√£o for RESTRICT ou NO ACTION, a tabela dependente
estar√° envolvida na opera√ß√£o, mas n√£o ser√° afetada pela opera√ß√£o (ou seja, o
<span>Derby</span>
verificar√° os valores na tabela, mas n√£o excluir√° qualquer valor).</li>

<li>Se a regra de exclus√£o for SET NULL, as linhas da tabela dependente poder√£o
ser atualizadas quando uma linha da tabela m√£e for objeto de uma exclus√£o ou
de uma opera√ß√£o de exclus√£o propagada.</li>

<li>Se a regra de exclus√£o for CASCADE, as linhas da tabela dependente poder√£o
ser exclu√≠das quando a tabela m√£e for objeto de uma exclus√£o. </li>

<li>Se a tabela dependente tamb√©m for uma tabela m√£e, as a√ß√µes descritas nesta
lista ser√£o aplicadas, por sua vez, √†s suas tabelas dependentes.</li>

</ul>

</div>

</div>

<div class="example" id="rrefsqlj13590__sqljidx6080"><a name="rrefsqlj13590__sqljidx6080"><!-- --></a><h4 class="sectiontitle">Exemplos</h4>

<pre><strong>-- restri√ß√£o de chave prim√°ria no n√≠vel-de-coluna chamada PK_SA√?DA:
CREATE TABLE SAMP.CAIXA_SA√?DA
        (
        ENVIO       TIMESTAMP,
        DESTINO     CHAR(8),
        ASSUNTO     CHAR(64) NOT NULL CONSTRAINT PK_CAIXA_SA√?DA PRIMARY KEY,
        TEXTO_NOTA  VARCHAR(3000)
   );

-- a defini√ß√£o de chave prim√°ria no n√≠vel-de-tabela permite
-- incluir duas colunas na defini√ß√£o da chave prim√°ria:
CREATE TABLE SAMP.AGENDA
        (
        COD_CLASSE CHAR(7)  NOT NULL,
        DIA        SMALLINT NOT NULL,
        IN√?CIO     TIME,
        FIM        TIME,
        PRIMARY KEY (COD_CLASSE, DIA)
        );

-- Uso de uma restri√ß√£o no n√≠vel-de-coluna para verifica√ß√£o aritm√©tica.
-- Uso de uma restri√ß√£o no n√≠vel-de-tabela para ter certeza que os
-- impostos do empregado n√£o s√£o maiores que os b√¥nus.
CREATE TABLE SAMP.EMP
        (
        NUM_EMP      CHAR(6)      NOT NULL CONSTRAINT PK_EMP PRIMARY KEY,
        NOME         CHAR(12)     NOT NULL,
        INICIAL_MEIO VARCHAR(12)  NOT NULL,
        SOBRENOME    VARCHAR(15)  NOT NULL,
        SAL√?RIO      DECIMAL(9,2) CONSTRAINT VERIF_SAL CHECK (SAL√?RIO &gt;= 10000),
        B√îNUS        DECIMAL(9,2),
        IMPOSTOS     DECIMAL(9,2),
        CONSTRAINT VERIF_B√îNUS CHECK (B√îNUS &gt; IMPOSTOS)
        );

-- Uso de uma restri√ß√£o de verifica√ß√£o para permitir
-- apenas as abreviaturas apropriadas para as refei√ß√µes
CREATE TABLE V√îOS
        (
        ID_V√îO            CHAR(6) NOT NULL ,
        N√öMERO_SEGMENTO   INTEGER NOT NULL ,
        AEROPORTO_ORIGEM  CHAR(3),
        HORA_PARTIDA      TIME,
        AEROPORTO_DESTINO CHAR(3),
        HORA_CHEGADA      TIME,
        REFEI√á√ÉO          CHAR(1) CONSTRAINT VERIF_REFEI√á√ÉO
                                  CHECK (REFEI√á√ÉO IN ('B', 'L', 'D', 'S')),
        PRIMARY KEY (ID_V√îO, N√öMERO_SEGMENTO)
        );

CREATE TABLE METROPOLITANO
        (
        ID_HOTEL   INT NOT NULL CONSTRAINT PK_HOT√âIS PRIMARY KEY,
        NOME_HOTEL VARCHAR(40) NOT NULL,
        ID_CIDADE  INT CONSTRAINT FK_METRO REFERENCES CIDADES
        );

-- cria√ß√£o de uma tabela com uma restri√ß√£o de chave prim√°ria
-- e uma restri√ß√£o de chave estrangeira no n√≠vel-de-tabela
CREATE TABLE V√îOS_DISP
        (
        ID_V√îO                            CHAR(6) NOT NULL,
        N√öMERO_SEGMENTO                   INT NOT NULL,
        DATA_V√îO                          DATE NOT NULL,
        ASSENTOS_ECON√îMICOS_OCUPADOS      INT,
        ASSENTOS_EXECUTIVOS_OCUPADOS      INT,
        ASSENTOS_PRIMEIRA_CLASSE_OCUPADOS INT,
        CONSTRAINT PK_V√îOS_DISP PRIMARY KEY (ID_V√îO, N√öMERO_SEGMENTO),
        CONSTRAINT FK_V√îOS
                   FOREIGN KEY (ID_V√îO, N√öMERO_SEGMENTO)
                   REFERENCES V√îOS (ID_V√îO, N√öMERO_SEGMENTO)
        );

<span>-- adicionar uma restri√ß√£o de unicidade a uma coluna</span>
ALTER TABLE SAMP.PROJETO
ADD CONSTRAINT UNQ_PROJ UNIQUE (NOME_PROJ);

-- criar uma tabela cuja coluna ID_CIDADE fa√ßa refer√™ncia
-- √† chave prim√°ria da tabela CIDADES utilizando uma
-- restri√ß√£o de chave estrangeira no n√≠vel-de-coluna
CREATE TABLE CONDOM√?NIOS
        (
        ID_COND   INT NOT NULL CONSTRAINT PK_HOT√âIS PRIMARY KEY,
        NOME_COND VARCHAR(40) NOT NULL,
        ID_CIDADE INT CONSTRAINT FK_CIDADE
                      REFERENCES CIDADES
                      ON DELETE CASCADE
                      ON UPDATE RESTRICT
        );</strong>
</pre>

</div>

<div class="section"><h4 class="sectiontitle">Sistema de depend√™ncia de instru√ß√£o</h4>

<p>As instru√ß√µes INSERT e UPDATE dependem de todas as restri√ß√µes da tabela de
destino.
As instru√ß√µes DELETE dependem das restri√ß√µes de unicidade, chave prim√°ria e
de chave estrangeira.
Estas instru√ß√µes s√£o invalidadas quando √© adicionada ou
removida uma restri√ß√£o na tabela de destino.</p>

</div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rrefsqlj16095.html">restri√ß√£o no n√≠vel-de-coluna</a></strong><br />
</li>
<li class="ulchildlink"><strong><a href="rrefsqlj42154.html">restri√ß√£o no n√≠vel-de-tabela</a></strong><br />
</li>
<li class="ulchildlink"><strong><a href="rrefsqlj16357.html">Especifica√ß√£o da refer√™ncia</a></strong><br />
</li>
<li class="ulchildlink"><strong><a href="rrefsqlj91438.html">Condi√ß√£oProcura</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>T√≥pico pai:</strong> <a href="crefsqlj39374.html" title="">Instru√ß√µes</a></div>
</div>
<div class="relconcepts"><strong>Conceitos relacionados</strong><br />
<div><a href="crefsqlj22771.html" title="">Intera√ß√£o com o sistema de depend√™ncias</a></div>
<div><a href="crefsqlj95081.html" title="">Instru√ß√µes CREATE</a></div>
<div><a href="crefsqlj80721.html" title="">Instru√ß√µes DROP</a></div>
<div><a href="crefsqljrenamestatements.html" title="">Instru√ß√µes RENAME</a></div>
<div><a href="crefsqlj35312.html" title="">Instru√ß√µes SET</a></div>
</div>
<div class="relref"><strong>Refer√™ncias relacionadas</strong><br />
<div><a href="rrefsqlj81859.html" title="">Instru√ß√£o ALTER TABLE</a></div>
<div><a href="rrefcallprocedure.html" title="">CALL (PROCEDIMENTO)</a></div>
<div><a href="rrefdeclaretemptable.html" title="">Instru√ß√£o DECLARE GLOBAL TEMPORARY TABLE</a></div>
<div><a href="rrefsqlj35981.html" title="">Instru√ß√£o DELETE</a></div>
<div><a href="rrefsqlj31783.html" title="">Cl√°usula FOR UPDATE</a></div>
<div><a href="rrefsqlj21583.html" title="">Cl√°usula FROM</a></div>
<div><a href="rrefsqlj32654.html" title="">Cl√°usula GROUP BY</a></div>
<div><a href="rrefsqlj14854.html" title="">Cl√°usula HAVING</a></div>
<div><a href="rrefsqlj35034.html" title="">INNER JOIN</a></div>
<div><a href="rrefsqlj40774.html" title="">Instru√ß√£o INSERT</a></div>
<div><a href="rrefsqlj29840.html" title="">Opera√ß√£o JOIN</a></div>
<div><a href="rrefsqlj18922.html" title="">LEFT OUTER JOIN</a></div>
<div><a href="rrefsqlj40506.html" title="">Instru√ß√£o LOCK TABLE</a></div>
<div><a href="rrefsqlj13658.html" title="">Cl√°usula ORDER BY</a></div>
<div><a href="rrefsqlj21571.html" title="">Consulta</a></div>
<div><a href="rrefsqlj57522.html" title="">RIGHT OUTER JOIN</a></div>
<div><a href="rrefscalarsubquery.html" title="">SubconsultaEscalar</a></div>
<div><a href="rrefselectexpression.html" title="">Express√£oSele√ß√£o</a></div>
<div><a href="rrefsqlj41360.html" title="">Instru√ß√£o SELECT</a></div>
<div><a href="rreftableexpression.html" title="">Express√£oTabela</a></div>
<div><a href="rreftablesubquery.html" title="">SubconsultaTabela</a></div>
<div><a href="rrefsqlj26498.html" title="">Instru√ß√£o UPDATE</a></div>
<div><a href="rrefsqlj11277.html" title="">VALUES Express√£o</a></div>
<div><a href="rrefsqlj33602.html" title="">Cl√°usula WHERE</a></div>
<div><a href="rrefsqlj15309.html" title="">Cl√°usula WHERE CURRENT OF</a></div>
</div>
</div>

</body>
</html>